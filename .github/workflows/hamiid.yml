name: Gaming RDP (Stable)

on:
  workflow_dispatch:

jobs:
  gaming-rdp:
    runs-on: windows-latest
    timeout-minutes: 360

    steps:
    # ----------------------------------------------------
    # 1. Enable RDP
    # ----------------------------------------------------
    - name: Enable RDP
      shell: powershell
      run: |
        Set-ItemProperty -Path "HKLM:\System\CurrentControlSet\Control\Terminal Server" `
          -Name "fDenyTSConnections" -Value 0 -Force
        Enable-NetFirewallRule -DisplayGroup "Remote Desktop"
        Restart-Service TermService -Force
        Write-Host "RDP enabled"

    # ----------------------------------------------------
    # 2. Create RDP User (Safe)
    # ----------------------------------------------------
    - name: Create RDP User
      shell: powershell
      run: |
        $pass = ConvertTo-SecureString "Hamid@12345" -AsPlainText -Force
        if (-n
